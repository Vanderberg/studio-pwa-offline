* { box-sizing: border-box; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
html, body { height: 100%; }
:root {
  --bg: #ffffff;
  --panel: #f8fafc;
  --fg: #0f172a;
  --muted: #475569;
  --border: #e2e8f0;
  --brand: #24b9a8;
  --brand-2: #d6e54b;
  --logo-size: clamp(96px, 12vw, 160px);
}
.dark { --bg:#0f172a; --panel:#0b1224; --fg:#e5e7eb; --muted:#9ca3af; --border:#1f2937; --brand:#24b9a8; --brand-2:#d6e54b; }
body { margin: 0; background: var(--bg); color: var(--fg); }
.header { padding: 12px 16px; background: var(--panel); border-bottom: 1px solid var(--border); display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap; }
.brand { display:flex; align-items:center; gap:12px; }
#logoImg { height: var(--logo-size); width:auto; border-radius:10px; background:#11111122; padding:4px; }
.brand h1 { margin:0; font-size: clamp(24px, 3.2vw, 40px); }
.header-actions { display:flex; gap:10px; align-items:center; }
.menu { position:relative; }
.menu > button { padding:8px 10px; border:1px solid var(--border); background:var(--panel); color:var(--fg); border-radius:8px; cursor:pointer; }

.dropdown { position:absolute; right:0; top:110%; background:var(--panel); border:1px solid var(--border); border-radius:10px; box-shadow:0 10px 25px rgba(0,0,0,.2); padding:6px; display:grid; gap:6px; min-width:220px; z-index: 20; }
.dropdown[hidden] { display: none !important; }  /* FIX: respeitar atributo hidden */

.dropdown > button[disabled]{ opacity:.5; cursor:not-allowed; }
.dropdown > button { text-align:left; padding:10px; border-radius:8px; border:1px solid var(--border); background:var(--panel); color:var(--fg); cursor:pointer; }
.dropdown > button:hover { border-color: var(--brand); }

select, input, button { padding:8px 10px; border:1px solid var(--border); border-radius:8px; background:var(--panel); color:var(--fg); }
button.primary { background: var(--brand); color: #041e1b; border-color: #0aa897; }
button.danger { background:#fee2e2; color:#7f1d1d; border-color:#fecaca; }

.main { display:grid; grid-template-columns: 420px 1fr; gap:16px; padding:16px; height:calc(100vh - 120px); }
.panel { background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:12px; min-height:0; display:flex; flex-direction:column; }
.toolbar { display:grid; grid-template-columns:1fr auto auto auto; gap:10px; align-items:center; }
.toolbar-sep { height:8px; }
.cards-grid { display:grid; gap:14px; overflow:auto; padding:4px; }

.card { border:1px solid var(--border); border-radius:14px; padding:12px; background: color-mix(in srgb, var(--panel) 90%, black 10%); }
.card .title { font-size:18px; font-weight:700; margin-bottom:8px; }

/* Layout das informações do card */
.card-info { margin-bottom: 8px; }
.dates-row { margin-bottom: 6px; }
.status-row { margin-top: 4px; }

.badgeDate { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); font-weight:700; margin-right:6px; }
.dateNascimento { background:#233042; color:#dbeafe; }
.dateVenc { background:#3b2f1f; color:#fde68a; }
.light .dateNascimento { background:#e0e7ff; color:#1e3a8a; }
.light .dateVenc { background:#fff6db; color:#7c2d12; }
.badge { padding:2px 8px; border:1px solid var(--border); border-radius:999px; font-size:12px; }
.badge.ATIVO { background:#dcfce7; color:#14532d; }
.badge.VENCE_EM_7 { background:#fff7ed; color:#7c2d12; }
.badge.VENCIDO { background:#fee2e2; color:#7f1d1d; }

/* Novos estilos para status com dias específicos */
.badge[class*="VENCE_EM_"] { background:#fff7ed; color:#7c2d12; }
.badge.VENCIDO { 
  background:#dc2626; 
  color:#ffffff; 
  font-weight: bold;
  border-color: #dc2626;
}
.badge.ATIVO { background:#dcfce7; color:#14532d; }
.itemActions { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }

.tabsHeader { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; flex-wrap:wrap; gap:8px; }
.tabBar { display:flex; gap:6px; border-bottom:1px solid var(--border); padding-bottom:6px; flex-wrap:wrap; }
.tab { background:#1f2937; color:#e5e7eb; border:1px solid var(--border); border-radius:8px 8px 0 0; padding:6px 10px; cursor:pointer; }
.light .tab { background:#f1f5f9; color:#111827; }
.tab.active { background:var(--panel); border-bottom-color:var(--panel); }
.tab .close { margin-left:8px; opacity:.8; cursor:pointer; }
.tabContent { padding:10px; display:none; }
.tabContent.active { display:block; }
textarea { width:100%; height:calc(100vh - 320px); resize:none; }
.small { font-size:12px; opacity:.8; }

/* Modal */
.hidden { 
  display: none !important; 
}

.modalBackdrop { 
  position: fixed; 
  inset: 0; 
  background: rgba(0,0,0,.35); 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  z-index: 50; 
}

.modal { 
  background: var(--panel); 
  color: var(--fg); 
  border: 1px solid var(--border); 
  border-radius: 12px; 
  width: min(520px,92vw); 
  padding: 16px; 
  box-shadow: 0 10px 30px rgba(0,0,0,.3); 
}

.formRow { 
  display: flex; 
  flex-direction: column; 
  gap: 6px; 
  margin: 10px 0; 
}

.formActions { 
  display: flex; 
  gap: 8px; 
  justify-content: flex-end; 
  margin-top: 12px; 
}

/* Regras específicas para impressão */
@media print {
  /* Ocultar elementos desnecessários na impressão */
  .header,
  .tabsHeader,
  .itemActions,
  .toolbar,
  .toolbar-sep,
  .menu,
  .dropdown,
  .modalBackdrop,
  .modal,
  .no-print {
    display: none !important;
  }
  
  /* Ajustar layout para impressão */
  body {
    margin: 0;
    padding: 20px;
    background: white !important;
    color: black !important;
  }
  
  .main {
    display: block !important;
    grid-template-columns: none !important;
    gap: 0 !important;
    padding: 0 !important;
    height: auto !important;
  }
  
  .panel {
    background: white !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin-bottom: 20px !important;
  }
  
  /* Mostrar apenas o treino ativo */
  .tabContent:not(.active) {
    display: none !important;
  }
  
  .tabContent.active {
    display: block !important;
    padding: 0 !important;
  }
  
  /* Estilizar texto do treino para impressão */
  .texto {
    border: none !important;
    background: white !important;
    color: black !important;
    font-family: 'Courier New', monospace !important;
    font-size: 12pt !important;
    line-height: 1.4 !important;
    white-space: pre-line !important;
    height: auto !important;
    resize: none !important;
  }
  
  /* Cabeçalho do treino para impressão */
  .tabContent.active::before {
    content: "Studio Alfa - Treino";
    display: block;
    font-size: 18pt;
    font-weight: bold;
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #24b9a8;
  }
  
  /* Rodapé para impressão */
  .tabContent.active::after {
    content: "Impresso em: " attr(data-print-date);
    display: block;
    font-size: 10pt;
    text-align: center;
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid #ccc;
    color: #666;
  }
  
  /* Configurações da página */
  @page {
    margin: 1.5cm;
    size: A4;
  }
}
